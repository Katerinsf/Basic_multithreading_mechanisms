# Basic_multithreading_mechanisms
Изучение базовых механизмов многопоточности на примере скачивания файлов из сети Интернет.

- Для написания программ использовалась версия Java 8.
- Для форматирования кода использовались стандарты Oracle.
- Код каждого задания находиться в папке src в соответствующей директории.

## Contents
1. [Exercise 00 – Egg, Hen... or Human?](#exercise-00-egg-hen-or-human)
2. [Exercise 01 – Egg, Hen, Egg, Hen...](#exercise-01-egg-hen-egg-hen)
3. [Exercise 02 – Real Multithreading](#exercise-02-real-multithreading)
4. [Exercise 03 – Too Many Threads...](#exercise-03-too-many-threads)


### Exercise 00 – Egg, Hen... or Human?

Реализована работа двух потоков(Egg и Hen). Каждый из них выводит свое слово несколько раз, например, 50:
```
$ java Program --count=50
Egg
Hen
Hen
Hen
...
Egg
```
Также программа содержит основной поток, который выводит слово 'Human' в конце тоже 50 раз.

Таким образом, окончательный вариант выглядит следующим образом:
```
$ java Program --count=50
Egg
Hen
Hen
...
Egg
Hen
...
Human
...
...
Human
```


### Exercise 01 – Egg, Hen, Egg, Hen...

В данном задании модифицируется программа из предыдущего,
так что теперь каждый поток может предоставить свой ответ только после того, как это сделает другой поток.

При решении использовался паттерн Producer-Consumer.

Предположим, что поток Egg начинает работу первым.

```
$ java Program --count=50
Egg
Hen
Egg
Hen
Egg
Hen
...
```

### Exercise 02 – Real Multithreading
В данном задании реализованно вычисление суммы элементов массива с использованием 
нескольких потоков «суммирования». Каждый поток вычисляет определенный раздел внутри массива. 
Количество элементов в каждом разделе постоянно, 
кроме последнего (его размер может отличаться в меньшую сторону).

Массив генерируется случайным образом каждый раз.
Длина массива и количество потоков передаются в качестве аргументов командной строки.

Для проверки корректной работы программы, в начале проводится вычисление
суммы элементов массива стандартным методом.

Максимальное количество элементов массива — 2 000 000. 
Максимальное количество потоков не превышает текущего количества элементов массива. 
Максимальное значение по модулю каждого элемента массива составляет 1000. 
Все данные гарантированно действительны.
Потоки могут непоследовательно выводить результаты работы.

Пример работы программы (каждый элемент массива равен 1):

```
$ java Program --arraySize=13 --threadsCount=3
Sum: 13
Thread 1: from 0 to 4 sum is 5
Thread 2: from 5 to 9 sum is 5
Thread 3: from 10 to 12 sum is 3
Sum by threads: 13
```


### Exercise 03 – Too Many Threads...

Эта программа загружает файлы из сети Интернет с использованием многопоточной загрузки, 
при которой каждый поток загружает определенный файл.

Во избежания непрерывного создания и завершения потоков(данная операция очень дорогостоющая) запускается 
N потоков(параметр указывается при запуске программы) и, когда любой из этих N потоков 
завершит загрузку файла, он берет на себя следующий файл в очереди.

В файле files_urls.txt (имя файла явно указано в коде программы), находится список URL-адресов файлов для скачивания.

Пример работы программы:

```
$ java Program.java --threadsCount=3
Thread-1 start download file number 1
Thread-2 start download file number 2
Thread-1 finish download file number 1
Thread-1 start download file number 3
Thread-3 start download file number 4
Thread-1 finish download file number 3
Thread-2 finish download file number 2
Thread-1 start download file number 5
Thread-3 finish download file number 4
Thread-1 finish download file number 5
```
